# 游빐 Fase 1: Comprensi칩n y Carga de Datos
El primer paso en cualquier proyecto de an치lisis de datos es entender qu칠 informaci칩n tienes y cargarla en tu entorno de trabajo.

1. An치lisis de Archivos CSV
Ya has adjuntado los archivos: train.csv, features.csv, y stores.csv. Vamos a resumir qu칠 contiene cada uno para tener una idea clara de las variables a nuestra disposici칩n.

train.csv (Datos de Transacciones):

Store: El n칰mero de la tienda.

Dept: El n칰mero del departamento.

Date: La fecha de la semana.

Weekly_Sales: Las ventas semanales (esta es probablemente la variable objetivo a predecir/analizar).

IsHoliday: Indicador booleano de si la semana es una semana festiva.

features.csv (Caracter칤sticas/Variables Externas):

Store, Date, IsHoliday: Variables para unir con train.csv.

Temperature: Temperatura promedio en la regi칩n de la tienda.

Fuel_Price: Precio del combustible en la regi칩n.

MarkDown1-5: Datos de rebajas promocionales (estos tienen muchos valores faltantes al inicio, pues las rebajas comenzaron a registrarse m치s tarde).

CPI: 칈ndice de Precios al Consumidor.

Unemployment: Tasa de desempleo.

stores.csv (Datos Est치ticos de las Tiendas):

Store: El n칰mero de la tienda.

Type: El tipo de tienda (A, B o C).

Size: El tama침o de la tienda en superficie.

# 丘뙖잺 Fase 2: Limpieza y Preparaci칩n de Datos (Feature Engineering)
Tu an치lisis de .info() nos ha revelado dos problemas principales que debemos corregir antes de iniciar cualquier an치lisis o modelo:

Tipos de Datos Incompatibles: Las columnas Date en df_train y df_features est치n como object (string), pero para an치lisis de series de tiempo y para unirlas correctamente, deben ser datetime.

Valores Faltantes (NaNs): Las columnas MarkDown1 a MarkDown5 en df_features tienen much칤simos valores nulos (menos de la mitad de las filas tienen datos).

Vamos a crear el pipeline para corregir esto:

Paso 1: Conversi칩n de Tipos de Datos y Unificaci칩n
Primero, corregiremos el formato de las fechas y luego uniremos los tres conjuntos de datos en uno solo (df_final).

游빛 Fase 2: Paso 2 - Imputaci칩n de Valores Faltantes
Como discutimos, el valor nulo en una columna de rebaja (MarkDown) significa que no se aplic칩 esa rebaja en esa semana y tienda espec칤fica, por lo que el descuento fue cero.

Vamos a reemplazar todos esos valores NaN con 0.0.

游늳 Fase 3: Ingenier칤a de Caracter칤sticas y An치lisis Inicial
Una vez que me confirmes que la limpieza est치 completa, pasaremos a la fase de Feature Engineering (Creaci칩n de Nuevas Caracter칤sticas) y a un An치lisis Inicial de las ventas.

Pasos a seguir:

Creaci칩n de Variables Temporales: Extraeremos caracter칤sticas 칰tiles de la columna Date (como a침o, mes, semana, trimestre).

An치lisis de Variables Categ칩ricas: Veremos c칩mo se distribuyen las ventas por Type de tienda y por IsHoliday.

Primer Gr치fico: Crearemos el primer gr치fico de tu proyecto: una visualizaci칩n de las Ventas Semanales Promedio a lo largo del tiempo.

游늳 Fase 3: Ingenier칤a de Caracter칤sticas (Feature Engineering)
El prop칩sito de esta fase es extraer informaci칩n oculta o latente de las variables existentes para mejorar la capacidad de nuestro an치lisis y futuros modelos.

Paso 1: Extracci칩n de Caracter칤sticas Temporales
La columna Date est치 en formato datetime, lo cual es perfecto. Vamos a extraer componentes de tiempo que puedan influir en las Weekly_Sales.

Por ejemplo, es probable que las ventas var칤en seg칰n el mes, el d칤a de la semana o el a침o.

Paso 2: Ingenier칤a de Caracter칤sticas Adicionales
Podemos crear una caracter칤stica simple, pero muy poderosa, combinando las promociones.

Total_MarkDown: La suma de todas las rebajas. Una rebaja total alta podr칤a implicar una semana de mucha promoci칩n o una liquidaci칩n, lo que generalmente impulsa las ventas.

Paso 3: An치lisis Inicial de Ventas - Agregaci칩n
Antes de hacer un gr치fico, necesitamos agregar los datos. Recuerda que df_final tiene ventas a nivel de Departamento y Tienda por semana. Para ver la tendencia general de Walmart, debemos sumar las ventas por semana.

游늵 Fase 4: Visualizaci칩n (Primer Gr치fico)
Ahora que tenemos los datos de ventas semanales agregadas, vamos a generar nuestro primer gr치fico, que es el m치s importante para los stakeholders: la tendencia de ventas en el tiempo.

游꿢 An치lisis del Patr칩n de Ventas
1. Estacionalidad (Navidad y Black Friday)
El patr칩n que ves es la estacionalidad cl치sica del retail.

Pico de Navidad (T칰 observaci칩n): El pico m치s grande al final de cada a침o (diciembre) es impulsado por la temporada navide침a. Esto es predecible y masivo.

Pico de Black Friday: El Black Friday en EE. UU. es siempre el cuarto viernes de noviembre. F칤jate bien en la pen칰ltima semana de noviembre de cada a침o. Ver치s un pico significativo y agudo justo antes del gran pico de Navidad.

Punto clave: Si miras de cerca la semana anterior al 25 de diciembre, el pico de Black Friday (칰ltima semana de noviembre) es, a menudo, el m치s alto en ventas en un solo d칤a/semana debido a las ofertas, aunque el volumen total de la temporada navide침a lo supere.

2. Otros Patrones
Pico de Febrero: Si miras a principios de a침o, hay un pico menor. Este coincide con el Super Bowl (generalmente la primera o segunda semana de febrero) y, m치s marcadamente, el D칤a de San Valent칤n (14 de febrero).

D칤as Festivos de Mitad de A침o: El gr치fico ser치 relativamente plano, pero con peque침os repuntes alrededor de Semana Santa (Easter) y el 4 de Julio (D칤a de la Independencia de EE. UU.).

Tendencia General: Si ignoras los picos, la l칤nea de base de ventas semanales (excluyendo los d칤as festivos) parece ser relativamente estable a lo largo de los tres a침os de datos, aunque con una ligera tendencia positiva a medida que avanzan los a침os.

游늵 An치lisis por Tipo de TiendaAqu칤 est치n tus conclusiones basadas en los datos:
Tienda tipo A genera: $4.33 billones. Con una superficie de: 182K$ pies. y un promedio de 22
tiendas. Es el motor principal. M치s ventas, m치s tama침o y m치s tiendas.
Tienda tipo B genera: $2.00 billones. Con una superficie de: 101K pies y un promedio de 17 tiendas. Es la segunda en ventas. Tiendas de tama침o medio, buen desempe침o por tienda.
Tienda tipo C genera: 405 millones. Con una superficie de : 40K pies y un promedio de 6 tiendas. La que menos contribuye. Tiendas peque침as y la menor cantidad en la muestra.

游븷 Fase 6: M칠tricas de Eficiencia
Si bien las ventas totales son importantes, los stakeholders tambi칠n querr치n saber qu칠 tan eficiente es cada tipo de tienda. Una tienda Tipo A vende m치s, pero 쯘s m치s eficiente por metro cuadrado que una Tipo C?
Vamos a calcular dos m칠tricas de eficiencia:
Venta Promedio por Tienda: 쮺u치nto vende, en promedio, cada tienda de ese tipo?
Venta Promedio por Pie Cuadrado (Ventas/Size): Una m칠trica de eficiencia de espacio.

El hallazgo clave para los stakeholders:Las tiendas Tipo C son las m치s rentables por unidad de espacio ($1,667.27 \text{ por pie cuadrado})$, lo que sugiere que 
su surtido, dise침o, o ubicaci칩n en 치reas peque침as es extremadamente efectivo.Las tiendas Tipo A, aunque generan la mayor cantidad de dinero, son las menos eficientes
por pie cuadrado ($1,080.30$).Esto plantea preguntas interesantes para los stakeholders sobre la optimizaci칩n del dise침o y la estrategia de inventario en los formatos 
de tienda m치s grandes.

游 Fase 7: El Impacto de los D칤as Festivos
Ahora, vamos a generar la 칰ltima m칠trica de alto impacto para el dashboard: el efecto de que una semana sea festiva (IsHoliday).
El aumento porcentual en las ventas semanales promedio durante los d칤as festivos es de: $\mathbf{7.13\%}$.Esto confirma que las semanas festivas tienen un 
impacto positivo y significativo en el rendimiento promedio de las ventas en todos los departamentos y tiendas, lo cual es un hallazgo clave para planificar 
el inventario y la dotaci칩n de personal.

游깵 Fase 9: An치lisis de Factores Econ칩micos (CPI y Desempleo)
Las variables econ칩micas como el 칈ndice de Precios al Consumidor (CPI) y la Tasa de Desempleo (Unemployment) son indicadores clave de la salud econ칩mica y 
pueden influir directamente en el gasto del consumidor.
Vamos a calcular las correlaciones de estas variables con las ventas. La correlaci칩n nos dir치 qu칠 tan fuerte es la relaci칩n lineal y en qu칠 direcci칩n (positiva o
negativa).
Paso 1: C치lculo de la Correlaci칩n
Para obtener una visi칩n general, usaremos el DataFrame df_final (a nivel de tienda/departamento/semana) y calcularemos la correlaci칩n de Weekly_Sales con las 
variables econ칩micas.
Conclusi칩n Clave: A pesar de la intuici칩n econ칩mica, los factores internos (estacionalidad, d칤as festivos, promociones) y las caracter칤sticas de la tienda 
(Type, Size) son mucho m치s relevantes para la variaci칩n de las ventas que los factores econ칩micos externos (CPI y Unemployment) a nivel semanal.

游꼐 Fase 10: An치lisis de Ventas por Estaci칩n del A침o
Para analizar la rentabilidad por estaci칩n, primero necesitamos definir qu칠 semanas pertenecen a cada estaci칩n.
Aunque las fechas exactas var칤an, usaremos una definici칩n simplificada basada en el Mes que ya extrajimos en la Fase 3:
Invierno (Winter): Dic, Ene, Feb (12, 1, 2)
Primavera (Spring): Mar, Abr, May (3, 4, 5)
Verano (Summer): Jun, Jul, Ago (6, 7, 8)
Oto침o (Fall/Autumn): Sep, Oct, Nov (9, 10, 11)

Conclusi칩n Clave:
Invierno es la estaci칩n m치s rentable. Esto est치 directamente relacionado con los picos de Navidad y Black Friday que ocurren en diciembre y noviembre,
los cuales elevan dr치sticamente el promedio de ventas por semana en esta temporada.
El verano es la menos rentable. Las ventas se ralentizan, posiblemente debido a las vacaciones y la menor actividad de compras masivas, quedando por 
debajo de la primavera y el oto침o.
